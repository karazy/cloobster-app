<!DOCTYPE html>
<html>
<head>
<title></title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
<meta charset="utf-8">
<link rel="stylesheet" id="default" href="res/css/app-default.css" type="text/css">
<link rel="stylesheet" id="red" href="res/css/red-theme.css" type="text/css" disabled="true">
<link rel="stylesheet" id="green" href="res/css/green-theme.css" type="text/css" disabled="true">
<link rel="stylesheet" id="orange" href="res/css/orange-theme.css" type="text/css" disabled="true">
<script type="text/javascript" charset="utf-8" src="lib/cordova-2.1.0.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/barcodescanner.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/cdv-plugin-fb-connect.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/facebook_js_sdk.js"></script>
<script type="text/javascript" src="lib/sencha-touch.js"></script>
<script type="text/javascript" charset="utf-8" src="http://karazy-cloobster.appspot.com/_ah/channel/jsapi"></script>
<script type="text/javascript" src="app-all.js"></script>

<script type="text/javascript">
    var cordovaInit = false;

    //Used for debugging
    window.onerror = function(error) { 
        console.log(error);
    };

    var app = {
        initialize: function() {
            this.bind();
        },
        bind: function() {
            document.addEventListener('deviceready', this.deviceready, false);
        },
        deviceready: function() {
            // note that this is an event handler so the scope is that of the event
            // so we need to call app.report(), and not this.report()
            //app.report('deviceready');
            console.log('onDeviceReady start');
            FB.init({ appId: "359215437471990", nativeInterface: CDV.FB, useCachedDialogs: false });
            cordovaInit = true;
            try {
                EatSense.app.mainLaunch();
            }
            catch(e) {
                console.log('error ' + e);
            }

            console.log('onDeviceReady end');
        },
        report: function(id) {
        	//from cordova sample
            //console.log("report:" + id);
            // hide the .pending <p> and show the .complete <p>
            //document.querySelector('#' + id + ' .pending').className += ' hide';
            //var completeElem = document.querySelector('#' + id + ' .complete');
            //completeElem.className = completeElem.className.split('hide').join('');
        }
    };
    
    </script>
</head>
    <body style="background: #FFF;">
        <div id="fb-root"></div>
        <script type="text/javascript">
            app.initialize();
        </script>        
    </body>
</html>