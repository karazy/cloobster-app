<!DOCTYPE html>
<html>
<head>
<title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
	<meta charset="utf-8">

            
<!-- iPad/iPhone specific css below, add after your main css >
 <link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="ipad.css" type="text/css" />		
 <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="iphone.css" type="text/css" />		
 -->
<!-- If your application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->

<link rel="stylesheet" id="default" href="res/css/app-default.css" type="text/css">
<link rel="stylesheet" id="red" href="res/css/red-theme.css" type="text/css" disabled="true">
<link rel="stylesheet" id="green" href="res/css/green-theme.css" type="text/css" disabled="true">
<link rel="stylesheet" id="blue" href="res/css/blue-theme.css" type="text/css" disabled="true">
<link rel="stylesheet" id="orange" href="res/css/orange-theme.css" type="text/css" disabled="true">
<script type="text/javascript" charset="utf-8" src="lib/karazy-translations.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/karazy-config.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/karazy-constants.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/karazy-i18n.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/karazy-util.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/karazy-channel.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/barcodescanner.js"></script>
<script type="text/javascript" src="lib/sencha-touch.js"></script>
<script type="text/javascript" charset="utf-8" src="http://karazy-cloobster.appspot.com/_ah/channel/jsapi"></script>
<script type="text/javascript" src="app-all.js"></script>

<script type="text/javascript">
    // If you want to prevent dragging, uncomment this section
    /*
     function preventBehavior(e) 
     { 
     e.preventDefault(); 
     };
     document.addEventListener("touchmove", preventBehavior, false);
     */
    
    /* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
     see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
     for more details -jm */
    /*
     function handleOpenURL(url)
     {
     // TODO: do something with the url passed in.
     }
     */
    var cordovaInit = false;

    //Used for debugging
    window.onerror = function(error) { 
        console.log(error);
    };

    // function onBodyLoad()
    // {		
    //     document.addEventListener("deviceready", onDeviceReady, false);
    // }
    
    /* When this function is called, Cordova has been initialized and is ready to roll */
    /* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
     see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
     for more details -jm */
    // function onDeviceReady()
    // {
    //     console.log('onDeviceReady start');
    //     cordovaInit = true;
    //     try {
    //         EatSense.app.mainLaunch();
    //     }
    //     catch(e) {
    //         console.log('error ' + e);
    //     }

    //     console.log('onDeviceReady end');
    // }

    var app = {
        initialize: function() {
            this.bind();
        },
        bind: function() {
            document.addEventListener('deviceready', this.deviceready, false);
        },
        deviceready: function() {
            // note that this is an event handler so the scope is that of the event
            // so we need to call app.report(), and not this.report()
            //app.report('deviceready');
            console.log('onDeviceReady start');
            cordovaInit = true;
            try {
                EatSense.app.mainLaunch();
            }
            catch(e) {
                console.log('error ' + e);
            }

            console.log('onDeviceReady end');
        },
        report: function(id) { 
            console.log("report:" + id);
            // hide the .pending <p> and show the .complete <p>
            document.querySelector('#' + id + ' .pending').className += ' hide';
            var completeElem = document.querySelector('#' + id + ' .complete');
            completeElem.className = completeElem.className.split('hide').join('');
        }
    };
    
    </script>

</head>
    <body style="background: #917D64;">
        <script type="text/javascript">
            app.initialize();
        </script>
    </body>
</html>